<div data-controller="dikkenek">
  <div>STEPPER</div>
  <div class="d-flex quotes-wrapper">
    <%= form_with url: games_dikkenek_path(dikkenek), method: :put do |form| %>
      <% i = 1 %>
      <% dikkenek.quotes.each do |quote| %>
        <div id="quote-<%= i %>" class="card-quote">
          <%= render(Texts::QuoteComponent.new(quote: quote[:quote])) %>
          <div class="d-flex justify-content-around">
            <% characters.each do |character| %>
              <div class="d-flex flex-column align-items-center">
                <%= form.label :"characters-#{i}", character %>
                <%= image_tag "dikkenek/#{character}.jpg", class: 'dikkenek-avatar', data: { action: "click->dikkenek#radioButtons" } %>
                <%= form.radio_button :"characters-#{i}", character, required: true %>
              </div>
            <% end %>
          </div>
          <div>
            <%= form.range_field :"scene-#{i}", in: 1..100 %>
          </div>
        </div>
        <% i +=1 %>
      <% end %>
      <%= form.hidden_field :start_at, value:'0', data: { dikkenek_target: 'start' } %>
      <%= form.hidden_field :submit_at, value: '0', data: { dikkenek_target: 'end' } %>
      <%= form.submit "Valider", class: "btn-cta btn-big btn-dark", data: { action: "click->dikkenek#submitForm" } %>
    <% end %>
  </div>
</div>
