@keyframes layer-2 {
  100% { transform: translateX(-10%); }
}

@keyframes layer-3 {
  100% { transform: translateX(-20%); }
}

@keyframes layer-4-5 {
  100% { transform: translateX(-50%); }
}

@keyframes van {
  100% { transform: translateX(700%); }
}

@keyframes night {
  0% { opacity: 0; }
  100% { opacity: 0.95; }
}

.background {
  position: relative;
  padding-top: 56.25%; // to keep 16/9 ratio on all devices
  width: 100%;
  overflow: hidden;

  .btn-wrapper {
    position: absolute;
    top: 16px;
    left: 16px;
    width: 10vw;
    height: 10vw;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: transparent;
    border: $deep-blue solid 1px;
    border-radius: 4px;
    cursor: pointer;

    p {
      font-size: var(--fs-l);
      margin: 2vw 0 0;
    }
  }

  .night {
    position: absolute;
    background: $deep-blue;
    width: 100%;
    padding-top: 56.25%;
    top: 0;
    opacity: 0;

    .btn-wrapper {
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      border: $cream-white solid 1px;
      opacity: 0;

      p {
        color: $cream-white;
      }
    }
  }

  .layer-1 {
    position: absolute;
    top: 0%;
    left: 0%;
    width: 100%;
    height: 100%;
  }

  .layer-2 {
    position: absolute;
    top: 0%;
    left: 0%;
    width: 120%;
    height: 100%;
  }

  .layer-3 {
    position: absolute;
    top: 8%;
    left: 0%;
    width: 130%;
    height: 100%;
  }

  .layer-4 {
    position: absolute;
    top: 8%;
    left: 0%;
    width: 100%;
    height: 100%;
  }

  .layer-4-bis {
    position: absolute;
    top: 8%;
    left: 100%;
    width: 100%;
    height: 100%;
  }

  .layer-5 {
    position: absolute;
    top: 8%;
    left: 0%;
    width: 100%;
    height: 100%;
  }

  .layer-5-bis {
    position: absolute;
    top: 8%;
    left: 100%;
    width: 100%;
    height: 100%;
  }

  .van {
    position: absolute;
    top: 75%;
    left: 5%;
    width: auto;
    height: 18%;
  }

  .van-animate { animation: van 10.2s linear forwards; }
  .layer-2-animate { animation: layer-2 10s linear forwards; }
  .layer-3-animate { animation: layer-3 10s linear forwards; }
  .layer-4-5-animate { animation: layer-4-5 10s linear forwards; }
  .paused { animation-play-state: paused; }
  .drop-night { animation: night 2s linear forwards; }
  .night-reload-btn {animation: night 0.2s linear forwards; }
}

@media (min-width: 40em) {
  .background {

    .btn-wrapper {
      width: 5vw;
      height: 5vw;
      border: $deep-blue solid 2px;

      p {
        margin: 1vw 0 0;
      }
    }
  }
}
